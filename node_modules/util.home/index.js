"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path = require("path");
const toolbox = require("util.toolbox");
let homedir = 'HOME';
if (toolbox.isWin) {
    homedir = 'USERPROFILE';
}
exports.home = process.env[homedir].trim().replace(/[\\\/]+/g, '/');
function expandHomeDirectory(src) {
    if (src == null) {
        return '';
    }
    if (src instanceof Buffer) {
        src = src.toString();
    }
    if (src === '~') {
        return exports.home;
    }
    const chevron = src.slice(0, 2);
    if (chevron === '~/' || chevron === '~\\') {
        return path.join(exports.home, src.slice(2)).trim().replace(/[\\\/]+/g, '/');
    }
    return src.trim().replace(/[\\\/]+/g, '/');
}
exports.expandHomeDirectory = expandHomeDirectory;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZCQUE2QjtBQUM3Qix3Q0FBd0M7QUFFeEMsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDO0FBQ3JCLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRTtJQUNsQixPQUFPLEdBQUcsYUFBYSxDQUFDO0NBQ3hCO0FBQ1UsUUFBQSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBRXZFLDZCQUFvQyxHQUFvQjtJQUN2RCxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7UUFDaEIsT0FBTyxFQUFFLENBQUM7S0FDVjtJQUVELElBQUksR0FBRyxZQUFZLE1BQU0sRUFBRTtRQUMxQixHQUFHLEdBQUcsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO0tBQ3JCO0lBRUQsSUFBSSxHQUFHLEtBQUssR0FBRyxFQUFFO1FBQ2hCLE9BQU8sWUFBSSxDQUFDO0tBQ1o7SUFFRCxNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNoQyxJQUFJLE9BQU8sS0FBSyxJQUFJLElBQUksT0FBTyxLQUFLLEtBQUssRUFBRTtRQUMxQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQ3JFO0lBRUQsT0FBTyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUM1QyxDQUFDO0FBbkJELGtEQW1CQyJ9